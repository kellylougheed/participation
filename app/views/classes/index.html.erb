<br/>
<div class="col-xs-10 col-xs-offset-1 text-center">

<h1>My Classes</h1>
<br/>
<!-- New class trigger modal -->
    <button class="btn" id="new-class" data-toggle="modal" data-target="#newClassModal">
      New Class
    </button>
<br/><br/>
<!-- Bootstrap accordion -->
<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
<% current_user.courses.each do |course| %>
  <% id = course.id %>
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="heading<%= id %>">
      <h4 class="panel-title">
        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse<%= id %>" aria-expanded="false" aria-controls="collapse<%= id %>">
          <%= course.name %>
        </a>
      </h4>
    </div>
    <div id="collapse<%= id %>" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading<%= id %>">
      <div class="panel-body text-left">
        <table class="roster">
          <% course.students.each do |student| %>
          <tr>
          <td><%= student.last_name %>, <%= student.first_name %></td>
          <td><%= student.starting_points %> / <%= course.total_points %></td>
          <td>Plus/Minus Toggle</td>
          <td>Percentage</td>
          </tr>
          <% end %>
        </table><br/>
        <!-- New student trigger modal -->
        <button class="btn" id="new-student" data-toggle="modal" data-target="#newStudentModal">
          New Student
        </button>
      </div>
    </div>
  </div>
<% end %>
</div>

</div>

<!-- New class modal -->
<div class="modal fade" id="newClassModal" tabindex="-1" role="dialog" aria-labelledby="newClassLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="newClassModalLabel">Add a new class</h4>
      </div>
      <%= simple_form_for @new_course, url: classes_path, html: {id: 'newClassForm'} do |f| %>
      <div class="modal-body">
          <%= f.input :name %><br/>
          <%= f.input :starting_points %>
          <i>Default number of participation points each student will start with.</i><br/><br/>
          <%= f.input :total_points %>
          <i>Total participation points possible to earn.</i><br/>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn" data-dismiss="modal">Close</button>
        <%= f.submit 'Create', class: 'btn' %>
      </div>
      <% end %>
    </div>
  </div>
</div>

<!-- New student modal -->
<div class="modal fade" id="newStudentModal" tabindex="-1" role="dialog" aria-labelledby="newStudentLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="newStudentModalLabel">Add a new student</h4>
      </div>
      <%= simple_form_for Student.new, url: classes_path, html: {id: 'newStudentForm'} do |f| %>
      <div class="modal-body">
          <%= f.input :first_name %><br/>
          <%= f.input :last_name %><br/>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn" data-dismiss="modal">Close</button>
        <%= f.submit 'Create', class: 'btn' %>
      </div>
      <% end %>
    </div>
  </div>
</div>